{
  "name": "bigquery",
  "version": "0.0.2",
  "dependencies": {
    "google-api-utility": "*",
    "nodeutil": "0.0.29",
    "underscore": "~1.6.0"
  },
  "readme": "# bigquery\n----\n\nThis is a simple sdk for using google bigquery. Still working... if any problem, please let me know.\n\n## Installation\n\n```\nnpm install bigquery\n```\n\n## Apply service account\n\nFollow the doc: http://gappsnews.blogspot.tw/2013/10/connect-cloud-platform-bigquery-using.html\n\n## Convert p12 key\nFrom admin console, create a service account, save the client_secrets.json and it's key\nex: Translate p12 to pem\n```\nopenssl pkcs12 -in privatekey.p12 -out privatekey.pem -nocerts\nopenssl rsa -in privatekey.pem -out key.pem\n```\n\n## Initial\n\nLoad bigquery lib, specify your project id then setup the service account and the client_secret.json file path, pem key file path for auth use.\n\n```\nvar bq = require('bigquery')\n  , fs = require('fs')\n  , prjId = 'your-bigquery-project-id'; //you need to modify this\n\nbq.init({\n  client_secret: '/path-to-client_secret.json',\n  privatekey_pem: '/path-to-privatekey.pem',\n  key_pem: '/path-to-key.pem'\n});\n```\n\n## Do Query\n\nQuery the dataset that you have. The sample bellow is to query the public dataset of wikipedia.\n\n```\nbq.job.query(prjId, 'select count(*) from publicdata:samples.wikipedia', function(e,r,d){\n  if(e) console.log(e);\n  console.log(JSON.stringify(d));\n});\n```\n\n## Load data\n\nBefore load data, you must create your dataset and table first. After that, you can use the following code to load data. (In this case test is the dataset id, testtb1 is the table name.)\n\n```\nvar data = [\n {\n   \"insertId\": \"201403221228\", //option\n   \"json\": {\n     \"name\": \"simon\",\n     \"sex\": \"M\",\n     \"age\": 35\n   }\n }\n];\n\nbq.job.load(prjId, 'test', 'testtb1', data, function(e,r,d){\n  if(e) console.log(e);\n  console.log(JSON.stringify(d));\n})\n```\nPS: The insertId use for prevent the duplicate insert of data.\n\n## Create Dataset & Table\n\nCreate dataset and table, the schema please ref: https://developers.google.com/bigquery/preparing-data-for-bigquery\n\n```\nbq.dataset.create(prjId, 'dataset_name', function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n\nvar schema = {\n  \"fields\": [\n   {\n    \"name\": \"field1\",\n    \"type\": \"string\",\n    \"description\": \"test\"\n   },\n   {\n    \"name\": \"field2\",\n    \"type\": \"integer\",\n    \"description\": \"test for int\"\n   }\n  ]\n };\nbq.table.create(prjId, 'dataset_name', 'table_name', schema, function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n```\n\n## Get Table\n\n```\nbq.table.get(prjId, 'test123', 'table_name', function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n```\n\n## Delete Table\n\n```\nbq.table.delete(prjId, 'dataset_name', 'table_name', function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n```\n\n## Get Dataset\n\n```\nbq.dataset.get(prjId, 'dataset_name', function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n```\n\n## Delete Dataset\n\n```\nbq.dataset.delete(prjId, 'dataset_name', 'table_name2', function(e,r,d){\n  if(e) console.log(e);\n  console.log(d);\n});\n```\n",
  "readmeFilename": "README.md",
  "description": "----",
  "_id": "bigquery@0.0.2",
  "_shasum": "82146a7dcb85390a44427f23210f2236b9f2f147",
  "_from": "bigquery@0.0.2",
  "_resolved": "https://registry.npmjs.org/bigquery/-/bigquery-0.0.2.tgz"
}
